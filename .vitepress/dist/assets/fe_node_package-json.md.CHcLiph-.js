import{_ as i,c as a,o as e,ag as n}from"./chunks/framework.BZemHgQ6.js";const r=JSON.parse('{"title":"package.json","description":"","frontmatter":{},"headers":[],"relativePath":"fe/node/package-json.md","filePath":"fe/node/package-json.md"}'),t={name:"fe/node/package-json.md"};function p(l,s,o,h,d,k){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="package-json" tabindex="-1">package.json <a class="header-anchor" href="#package-json" aria-label="Permalink to &quot;package.json&quot;">​</a></h1><p>package.json 是一个用于描述 Node.js 项目的元数据和依赖关系的配置文件。它通常位于项目的根目录中，是 Node.js 项目和 npm 包管理的核心文件之一。</p><h2 id="模块" tabindex="-1">模块 <a class="header-anchor" href="#模块" aria-label="Permalink to &quot;模块&quot;">​</a></h2><p><code>type</code> 字段用于指定 <code>package.json</code> 所在目录下 <code>.js</code> 文件的模块处理方式：</p><ul><li><code>commonjs</code>：将 js 文件按 commonjs 模块处理。</li><li><code>module</code>：将 js 文件按 ES Module 模块处理。</li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;module&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><blockquote><p><code>.mjs</code> 始终会按照 ESM 模块处理；<code>.cjs</code> 始终会按 <code>CommonJS</code> 模块处理。</p></blockquote><h2 id="配置脚本" tabindex="-1">配置脚本 <a class="header-anchor" href="#配置脚本" aria-label="Permalink to &quot;配置脚本&quot;">​</a></h2><p><code>package.json</code> 中的 <code>scripts</code> 选项用于定义项目中的自定义脚本。例如启动应用程序、运行测试、构建项目、部署应用程序等。</p><p>其中键是脚本的名称，值是要运行在终端中的 Shell 命令。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;start&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nodemon server.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mocha&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;build&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;webpack&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>运行脚本：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 会运行 nodemon server.js 命令</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 会运行 webpack 命令</span></span></code></pre></div><p>一些特定的脚本名称可以省略 <code>run</code> 运行，例如 <code>start</code>、<code>restart</code>、<code>test</code>。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 等于</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span></span></code></pre></div><h2 id="依赖" tabindex="-1">依赖 <a class="header-anchor" href="#依赖" aria-label="Permalink to &quot;依赖&quot;">​</a></h2><p>依赖关系可以分为两种主要类型：<strong>运行时依赖关系</strong> 和 <strong>开发时依赖关系</strong>。</p><p><strong><code>dependencies</code></strong>：定义了项目在运行时需要的依赖项，通常是项目在上线运行时所需的包。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;express&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;4.17.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;body-parser&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.19.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong><code>devDependencies</code></strong>：仅在开发环境中使用的包，项目上线运行时不需要。</p><p>典型的开发依赖包括测试框架、构建工具、代码检查工具等。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;devDependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;mocha&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^9.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;webpack&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^5.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;eslint&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^8.0.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="浏览器兼容" tabindex="-1">浏览器兼容 <a class="header-anchor" href="#浏览器兼容" aria-label="Permalink to &quot;浏览器兼容&quot;">​</a></h2><p><code>browserslist</code> 用于指定项目要兼容的浏览器和版本，一些流行的工具会读取该配置（如 Autoprefixer、Babel、ESLint、PostCSS 和 Webpack）。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;browserslist&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&gt; 0.2 and not dead&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;last 2 versions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>该配置也可在项目根目录中新建 <code>.browserslistrc</code> 进行配置。</p><p>关于 <code>browserslist</code> 的语法和常用配置，见 <a href="https://browsersl.ist/" target="_blank" rel="noreferrer">https://browsersl.ist/</a></p><h2 id="其它" tabindex="-1">其它 <a class="header-anchor" href="#其它" aria-label="Permalink to &quot;其它&quot;">​</a></h2><p>其它的配置通常用于包的发布，日常开发中，一般无需去关心这些配置</p><ul><li><p><code>name</code>: 包的名称，格式可以包含小写英文和“-”。 如果是 monorepo 项目，该选项会包含命名空间，如 Vue 的 reactivity 包为 @vue/reactivity。其中 @vue 是命名空间，reactivity 是包的名称。</p></li><li><p><code>version</code>: 项目的版本号，通常采用 <a href="https://semver.org/" target="_blank" rel="noreferrer">语义化版本规范 (Semantic Versioning)</a>，有 3 个部分：<code>主要版本.次要版本.补丁版本</code>。其中：</p><ul><li>主要版本：有不向后兼容的破坏式更新，如 vue.2、vue.3。</li><li>次要版本：一般为在原有基础上，添加新的功能、函数等。</li><li>补丁版本：修复 bug。</li></ul></li><li><p><code>main</code>：包的入口文件，一般构建工具会根据该字段作为入口文件，对包进行编译、构建。</p></li><li><p><code>module</code>：在 ESM 环境下使用该包时导入的模块路径。</p></li><li><p><code>sideEffects</code>：跟构建工具的 Tree Shaking 有关。指定哪些模块有副作用。</p><p>如果设为 false，则代表所有模块都没有副作用，在打包时会将未使用的导出移除。</p><p>如果设为数组，则代表数组中的模块是保护副作用的，打包时会保留这些文件。常见的有 UI 库的 css 文件或初始化函数。</p></li><li><p><code>types</code>：声明文件（.d.ts）的路径。</p></li><li><p><code>unpkg/jsdelivr 等 cdn 字段</code>：如果包上传到 npm 上，这些 cdn 会根据该字段将包的内容上传到自己的服务器。该字段需要指定为包的 iife 模块的路径。</p></li><li><p><code>description</code>: 项目的简短描述，用于解释项目的主要目标或内容。</p></li><li><p><code>peerDependencies</code>: 声明使用此依赖时，你应该安装的额外的依赖信息，例如：element-plus 的 peerDependencies 应包含 vue。</p></li><li><p><code>author</code>: 项目的作者或维护者的名称。</p></li><li><p><code>license</code>: 项目的许可证，指明了使用项目的规则和限制。</p></li><li><p><code>repository</code>: 项目的源代码托管库的 URL。</p></li><li><p><code>keywords</code>: 数组，与项目相关的关键字，用于使别人更容易地找到你的项目。</p></li><li><p><code>bugs</code>：提交 bug 的地址，一般为你的 git 仓库地址的 issues。</p></li><li><p><code>engines</code>: 指定项目运行所需的 Node.js 版本范围。</p></li><li><p><code>private</code>: 如果设置为 <code>true</code>，则防止项目被发布到 npm 注册表。</p></li></ul>`,30)]))}const g=i(t,[["render",p]]);export{r as __pageData,g as default};
